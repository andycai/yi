# Lua 编码规范

## 文件名

所有 lua 文件命名时使用小写字母，单词之间使用下划线(_)分隔开，如：chat_manager.lua

## 常量名/枚举

使用大写字母，单词之间使用下划线(_)分隔开，如：TYPE_MAP_FIGHTING = 1

## 变量名

使用驼峰命名规则，如：roleLevel = 90

## 私有/本地/局部函数

函数名称使用小写字母，单词之间使用下划线(_)分隔开，名称以下划线(_)结尾，如：local function show_role_title_() end

## 公有/全局函数

函数名称使用小写字母，单词之间使用下划线(_)分隔开，如：function get_role_level() end

## 分隔和缩进
1. 使用空行  
	在下述情况下使用单行的空白行来分隔： 
     
	1）在方法之间  
	2）在方法内部代码的逻辑段落小节之间  
	3）在注释行之前  
	注释之前增加一行或者多行空行
2. 使用空格符  
    除正常的成分之间以空格符分隔名（如数据类型和变量名之间），在下述情况下也

	应使用一个空格符来分隔：       
	1）运算符和运算符之间，如： 

		c = a + b  
	2）在参数列表中的逗号后面，如:  

		function m1(int year，int month) 
		end
	3) 在 for 语句时，如：

		for k, v in pairs(t) do 
		end 
 
	4)在下列情况下不要使用空格  
	例如： 
	函数定义时：

		function test1(a) 
		end 
	 
	不要这样：
 
		function test1( a ) 
		end 
	 
	函数调用时：

		test1(3) 
	 
	不要这样： 

		test1( 3 ) 

## 文件组织
1. 短小的注释使用 --
2. 较长的注释使用 --[==[ --]==]
2. **函数内的临时变量、文件内的局部函数都加上 local 限定词**
3. 函数的行数过长（大于 100 行）时，尽量拆分为多个子函数；函数中一些晦涩的部分，一定要加上注释
4. 函数与函数间、以及一些定义之间加上空行

## 注意
1. 尽量减少表中的成员是另一个表的引用，考虑 lua 的垃圾收集机制、 内存泄露等。

## 导航
- [目录](00.md)
- 上一章 [工具代码](05.md)